# 콘솔 게임 렌더링과 React의 비교 분석: 실제 성능 최적화 경험

## 프로젝트 배경: 생산성 문제와 해결책

우리 팀은 C 언어 기반 콘솔 게임 개발 과정에서 렌더링 시스템의 구조적 문제로 인해 팀원들의 생산성이 저하되는 현상을 경험했습니다. 이 문제를 해결하기 위해, 우리는 현대적인 웹 프레임워크인 React의 상태 관리 패러다임을 C 언어 환경에 적용하여 코드 구조를 개선하는 시도를 했습니다.

## React 패러다임의 C 언어 적용

### 1\. 컴포넌트 기반 UI 구조 도입

전통적인 절차적 코드를 컴포넌트 개념으로 재구성했습니다. 거대한 단일 UI 함수 대신, 각 UI 요소를 독립된 함수(컴포넌트)로 분리했습니다.

```c
// 컴포넌트 개념을 적용한 UI 렌더링 함수
void drawingTotalMap() {
    printGameBoard();   // 게임 보드 컴포넌트
    printHeroHp();      // HP 표시 컴포넌트
    drawBombNumUI();    // 폭탄 개수 UI 컴포넌트
    // ... 등등
}
```

### 2\. 상태 기반 렌더링 모델 구현

React의 핵심 원리인 '상태(Data)가 변경되면, 뷰(UI)가 그에 맞춰 업데이트된다'는 패턴을 C 코드에 적용했습니다.

```c
void move_pc(int y, int x) {
    // 1. 게임 데이터(상태)를 먼저 변경
    // ...
    
    // 2. 변경된 상태를 기반으로 화면 전체를 다시 렌더링
    drawingTotalMap();
}
```

이 접근 방식은 상태와 뷰를 명확히 분리하여 코드의 역할을 명확히 하는 데 기여했습니다.

## 성능 병목 현상과 실제 최적화 경험

### 문제 발견: 불필요한 중복 렌더링

초기 컴포넌트 구조는 생산성을 높였지만, 심각한 성능 문제를 야기했습니다. 캐릭터가 한 칸 움직이는 사소한 변경에도 `drawingTotalMap()`이 호출되어, **내용이 전혀 바뀌지 않은 HP, 아이템 개수 등의 상태(Status) UI까지 매번 다시 그리는 비효율**이 발생했습니다. 이는 React에서 작은 상태 변경 하나가 앱 전체를 리렌더링하는 것과 유사한 성능 병목 현상이었습니다.

### 해결책: 렌더링 영역 분리와 조건부 업데이트

이 문제를 해결하기 위해, 저는 **렌더링 영역을 '게임 보드'와 '상태 바'로 명확히 분리**하고, 각 영역이 독립적으로 업데이트되도록 시스템을 재설계했습니다.

**1. 상태 UI 렌더링 분리:**

먼저, 상태 관련 UI 함수들을 `updateStatusUI()`라는 별도의 함수로 묶어 관리했습니다.

```c
void updateStatusUI() {
    printHeroHp();
    drawBombNumUI();
    drawPowerUI();
    drawNpcHP();
}
```

**2. 조건부 렌더링 구현:**

다음으로, 상태가 변경되는 시점에만 `updateStatusUI()`가 호출되도록 로직을 수정했습니다.

  - **(Before)** 캐릭터 이동 시:
    `drawingTotalMap();`  // 게임보드 + 상태바 모두 렌더링

  - **(After)** 캐릭터 이동 시:
    `printGameBoard();`   // **게임 보드만** 렌더링

  - **(After)** 아이템 획득 또는 피격 시:
    `printGameBoard();`   // 게임 보드 렌더링
    `updateStatusUI();`   // **상태가 변경되었으므로** 상태 바도 렌더링

이 최적화를 통해, 게임 플레이 중 대부분을 차지하는 캐릭터 및 NPC의 이동 시에는 더 이상 상태 바를 중복으로 렌더링하지 않게 되었습니다. 그 결과, 불필요한 콘솔 출력 연산을 크게 줄여 **게임의 프레임 레이트를 안정적으로 유지**하고 **사용자 경험을 크게 개선**할 수 있었습니다.

## 프로젝트를 통해 얻은 교훈

1.  **패러다임의 교차 적용**: 다른 기술 스택의 장점을 현재 프로젝트에 맞게 적용하면 생산성과 코드 품질을 높이는 혁신적인 해결책을 찾을 수 있습니다.
2.  **관심사의 분리(Separation of Concerns)**: UI를 \*\*자주 변하는 부분(게임 보드)\*\*과 \*\*거의 변하지 않는 부분(상태 바)\*\*으로 분리하는 것만으로도 놀라운 성능 향상을 이끌어낼 수 있다는 것을 체득했습니다.
3.  **프로파일링 기반 최적화**: "전체가 느리다"가 아닌, "상태 바의 불필요한 렌더링이 문제다"라고 병목 지점을 정확히 진단하고 해결하는 **실질적인 성능 최적화**를 경험했습니다.

## 결론

이 프로젝트는 C 언어 환경에 현대적인 UI 프레임워크의 패러다임을 적용하여 **개발 생산성을 향상**시킨 경험입니다. 더 나아가, 그 과정에서 발생한 성능 병목 현상을 주도적으로 분석하고, **렌더링 영역 분리**라는 실용적인 해결책을 직접 구현하여 **의미 있는 성능 개선을 이뤄냈습니다.** 이 경험을 통해 주어진 환경의 제약을 이해하고, 그 안에서 최적의 해결책을 찾아 적용하는 엔지니어의 역량을 기를 수 있었습니다.
